<!DOCTYPE html>

<html>
  <head>
    
    <script>
        let fiveRounds = 0;
        let userScore = 0;
        let cpuScore = 0; 
        
        function game() { 
        let playerSelection = prompt("Rock, Paper or Scissors?");   
        let randomGenerator = Math.floor(Math.random() * 3);

        function determineWinner(){
            if (userScore===cpuScore){
                return("The game is tied!");
            }else if(userScore>cpuScore){
                return("You won best out of 5!");
            }else {
                return("CPU won best out of 5!");
                }    
            
                
        };

        //----------Computers choice
        function computerPlay() {
           
            if (randomGenerator===0) {
            return "rock";
            }
            else if (randomGenerator===1) {
            return "paper";
            }
            else {
            return "scissors";
            }
        };
        
        
        

        //------------------Gameplay
        

        function playGame(playerSelection, computerPlay){
            
            playerSelection = playerSelection.toLowerCase();
            
            if (computerPlay===playerSelection) {
                return"Game is a tie!";
                
            }  else if (playerSelection==="rock" && computerPlay==="scissors"){
                userScore++
                return(`You won! Rock beats Scissors!`);
                
             } else if (playerSelection==="scissors" && computerPlay==="paper"){
                userScore++
                return (`You won! Scissors beats Paper!`);
                
            } else if (playerSelection==="paper" && computerPlay==="rock"){
                userScore++
                return (`You won! Paper beats Rock!`);
                
            } else if (playerSelection==="rock" && computerPlay==="paper"){
                cpuScore++
                return (`You Lose! Paper beats Rock!`);
                
            } else if (playerSelection==="scissors" && computerPlay==="rock"){
                cpuScore++
                return (`You Lose! Rock beats Scissors!`);
                
            } else if (playerSelection==="paper" && computerPlay==="scissors"){
                cpuScore++
                return (`You Lose! Scissors beats Paper!`);
                
            } else {
                return "Invalid Selection!";
            }
        
        };

        
        while (fiveRounds < 5) {
            
            console.log(`You played ${playerSelection}, CPU plays ${computerPlay()}`);
            console.log(playGame(playerSelection, computerPlay()));
            console.log(`PlayerScore: ${userScore} CPUscore: ${cpuScore}`);
            fiveRounds++
            game();

            if (fiveRounds === 5){
                console.log(determineWinner());
                break;
            }
        }

        
        
    };
    
       
    
        
        
    
    


   </script>


  </head>
  <body>
   
  </body>
</html>